# Linux

## 查询命令

### 1. linux命令查询一个文件的行数

使用wc命令 统计指定文件中的字节数、字数、行数, 并将统计结果显示输出。

语法：wc [选项] 文件…

　　说明：该命令统计给定文件中的字节数、字数、行数。如果没有给出文件名，则从标准输入读取。wc同时也给出所有指定文件的总统计数。字是由空格字符区分开的最大字符串。

　　该命令各选项含义如下： 

　　- c 统计字节数。

　　- l 统计行数。

　　- w 统计字数。

如：wc -l filename 就是查看文件里有多少行

​    wc -w filename 看文件里有多少个word。

​    wc -L filename 文件里最长的那一行是多少个字。

wc命令

　　wc命令的功能为

### 2. linux命令查询一个文件内出现重复最多的数字的

#### uniq命令

Linux uniq 命令用于检查及删除文本文件中重复出现的行列，一般与 sort 命令结合使用。

uniq 可检查文本文件中重复出现的行列。

参数：

- -c或--count 在每列旁边显示该行重复出现的次数。
- -d或--repeated 仅显示重复出现的行列。
- -f<栏位>或--skip-fields=<栏位> 忽略比较指定的栏位。
- -s<字符位置>或--skip-chars=<字符位置> 忽略比较指定的字符。
- -u或--unique 仅显示出一次的行列。
- -w<字符位置>或--check-chars=<字符位置> 指定要比较的字符。
- --help 显示帮助。
- --version 显示版本信息。

#### sort 命令

- -n 按数值大小排序
- -t 指定分隔符,没有指定时,以空白作为分隔符
- -k 排序字段 如: -k1 (按第1个字段排序)   -k 1.2, 3.4 (按从第1个字段的第2个字符起，到第3个字段第4个字符止，进行排序)
- -b 忽略每行开始的空格
- -o 结果输出文件
- -r 以相反顺序排序
- -m 合并已经有序的文件,不排序
- -f 忽略大小写
- -d 排序时只按字母、数字或空格,忽略其它字符
- -u 去除重复的行

```cmake
#!/usr/bin/env bash
 
file="tmp/s.txt"
r1="tmp/r1.txt"
 
#正常排序
sort ${file}
 
#按数值大小排序
sort -n ${file}
 
#按数值大小,以第二个字段排序
sort -n -k2 ${file}
 
#按数值大小,以空格为分隔符,以第二个字段排序
sort -n -t ' ' -k2 ${file}
 
#按数值大小,以空格为分隔符,以第二个字段, 倒序排序
sort -n -t ' ' -k2 -r ${file}
 
#按数值大小,以空格为分隔符,以第二个字段, 倒序排序,输出到文件
sort -n -t ' ' -k2 -r -m ${file} -o ${r1}
```

**当重复的行并不相邻时，uniq 命令是不起作用的，所以此时要配合 sort 指令，先排序然后再去重。**

```cmake
# 统计 testfile1 中出现的重复字段的次数
sort testfile1 | uniq -c
-> 3 Hello 95  
-> 3 Linux 85 
-> 3 test 30
```

文件words存放英文单词，格式为每行一个英文单词（单词可以重复），统计这个文件中出现次数最多的前10个单词。

```
cat words.txt | sort | uniq -c | sort -k1,1nr | head -10
```

sort: 对单词进行排序

uniq -c: 显示唯一的行，并在每行行首加上本行在文件中出现的次数

sort -k1,1nr: 按照第一个字段，数值排序，且为逆序

head -10: 取前10行数据